{# agent_input_template.jinja2 #}

{% set web = data.get("web_search", {}) %}
{% set youtube = data.get("youtube_search", {}) %}
{% set question = data.get("question", "No question provided.") %}

{% if web and youtube %}
You are an AI assistant. Your task is to answer the user's question by combining information from both **web search
results** and **YouTube video transcripts**.

**Instructions:**
1. Read the content provided in both `Web Search Results` and `YouTube Video Transcripts`.
2. Extract accurate and relevant information from both sources.
3. Write a concise, plain-language answer that directly addresses the user's question.
4. Cite sources with inline references like [1], [2], etc.
5. For YouTube citations:
- Include timestamp links in the format `t=123` where applicable.
- Include the full YouTube video link next to the citation e.g `https://www.youtube.com/watch?v=<video id>`.

    ---

    **Web Search Results:**

    {{ web }}

    **YouTube Video Transcripts:**

    {{ youtube }}

    **User Question:**
    {{ question }}

    **Answer:**

    {% elif web %}
    You are an AI assistant. Your task is to answer the user's question using the provided **web search results**.

    **Instructions:**
    1. Review the web search results.
    2. Extract the most relevant and accurate information.
    3. Write a concise and clear answer to the question.
    4. Include inline citations like [1], [2], etc.

    ---

    **Web Search Results:**

    {{ web }}

    **User Question:**
    {{ question }}

    **Answer:**

    {% elif youtube %}
    You are an AI assistant. Your task is to answer the user's question using the provided **YouTube video
    transcripts**.

    **Instructions:**
    1. Review the video transcripts carefully.
    2. Extract the most relevant and accurate information.
    3. Write a concise and clear answer to the question.
    4. Include inline citations like [1], [2], etc.
    5. For each YouTube citation, include:
    - A timestamp link in the format: In the json provided, time stamps are denoted as `'start': 0.599, 'duration':
    3.0`.
    - Include the full YouTube video link next to the citation e.g `https://www.youtube.com/watch?v=<video id>`.


        ---

        **YouTube Video Transcripts:**

        {{ youtube }}

        **User Question:**
        {{ question }}

        **Answer:**

        {% else %}
        You are an AI assistant. Your task is to answer the user's question to the best of your ability.

        **User Question:**
        {{ question }}


        {% endif %}